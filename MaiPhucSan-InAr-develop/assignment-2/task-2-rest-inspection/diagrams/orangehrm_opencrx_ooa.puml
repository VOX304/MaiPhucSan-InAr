
@startuml
title OOA â€“ Core Business Objects (OrangeHRM & OpenCRX)

package "OrangeHRM" {
  class Employee {
    +id: int
    +firstName: string
    +middleName: string
    +lastName: string
    +fullName(): string
  }
  class Qualification {
    +title: string  // e.g., "Best salesman of the year"
    +year: int
    +comment: string
  }
  class BonusSalary {
    +year: int
    +value: decimal
  }
  Employee "1" -- "0..*" Qualification : has >
  Employee "1" -- "0..*" BonusSalary : has >
}

package "OpenCRX" {
  class Account {
    +uid: string
    +name: string
    +accountRating: int
  }
  class SalesOrder {
    +uid: string
    +createdAt: date
    +totalAmount: decimal
  }
  Account "1" -- "0..*" SalesOrder : places >
}

package "Internal Social DB (Mongo)" {
  class Salesman {
    +id: string <<key>>
    +firstName: string
    +lastName: string
  }
  class SocialPerformanceRecord {
    +id: string
    +year: int
    +remarks: string
  }
  class GoalScore {
    +goalId: string
    +description: string
    +valueSupervisor: int
    +valuePeerGroup: int
  }
  Salesman "1" -- "0..*" SocialPerformanceRecord : has >
  SocialPerformanceRecord "1" -- "1..*" GoalScore : aggregates >
}

Employee "1" .. "1" Salesman : represents same person (by mapping on id)

note right of BonusSalary
  Stored/updated through OrangeHRM REST
  endpoint /api/v1/employee/:id/bonussalary
end note

note right of Account
  accountRating is mapped to "Client Ranking"
  in bonus sheets.
end note

@enduml
